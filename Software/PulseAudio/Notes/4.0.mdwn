[[!inline pages="Software/PulseAudio/TOC" quick="yes" raw="yes"]]

# PulseAudio 4.0 Release Notes

TODO: Short introduction.

## Changes at a glance

* Better handling of low latency requests
* Optimisations while mixing (generic, ARM NEON)
* Default resampler is now speex-float-1 (lower CPU usage)
* Major Bluetooth refactoring for better reliability and easier maintenance 
* Fixes for graceful hand-off to/from JACK
* New module to apply ducking based on stream roles
* Echo canceller infrastructure fixes
* Bash and zsh completion for command line tools
* Solaris and OS X fixes
* Lots of other enhancements, bug fixes, and documenation and i18n updates

## Notes for Application Developers

So far card profiles have been static, that is, the set of profiles on a card has never changed after the creation of the card object. While that has never been promised in the API documentation, it may be that some applications have the assumption that the profiles are static. Due to the nature of the Bluetooth protocol, it has turned out to be necessary to be able to add profiles to a card after it has been created. So, make sure your application doesn't crash or otherwise behave badly if new profiles suddenly appear on a card. It's best to prepare for profiles disappearing too.

It is now possible to track operation state via a callback using the newly added pa_operation_set_state_callback().


## Notes for Packagers

D-Bus dependency version has been bumped to 1.4.12, alsa-lib to 1.0.24 and GTK+ to 3.0. libsystemd-daemon is no longer a dependency for systemd support.

pa_format_info_free2 symbol has been dropped from libpulse. The pa_format_info_free2 symbol was never part of the public API, but was still exported in libpulse in previous versions of [[PulseAudio|PulseAudio]]. It is now completely dropped. Since it was never exposed in any header files, no programs are expected to break due to this change.


## Changes in More Detail


### New Module: module-role-ducking

module-role-ducking lowers the volume of less important streams when a more important stream appears, and raises the volume back up once the important stream has finished (this is called "ducking"). The decision whether a stream has high or low priority is made based on the stream role (the media.role property). By default, "music" and "video" streams are ducked, and "phone" streams trigger the ducking. This module is not loaded by default.


## Next Steps

TODO

## git shortlog


    TODO
