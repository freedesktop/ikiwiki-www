== HarfBuzz ==
{{attachment:HarfBuzz.png}}

HarfBuzz is an [[http://www.microsoft.com/OpenType/OTSpec/|OpenType]] text shaping engine.  There are two HarfBuzz code trees in existence today:

 * The current HarfBuzz tree, also known as harfbuzz-ng, is under active development and is what is used in Firefox, GNOME, recent versions of ChromeOS and Chrome Linux, among other places.  The canonical source tree is available [[http://cgit.freedesktop.org/harfbuzz/|here]].  Also available on [[https://github.com/behdad/harfbuzz|github]].  See below for release tarballs.

 * The old HarfBuzz tree, derived from [[http://freetype.org/|FreeType]], [[http://pango.org/|Pango]], and [[http://qt-project.org/|Qt]], is available [[http://cgit.freedesktop.org/harfbuzz.old/|here]].  It is not actively developed or maintained, and is buggy.  All users are encouraged to switch over to the new HarfBuzz.  There are no release tarballs of old HarfBuzz whatsoever.


=== Download ===

For tarball releases of the new HarfBuzz codebase, look [[http://www.freedesktop.org/software/harfbuzz/release/|here]].  At the same place you will also find Win32 binary bundles that include libharfbuzz DLL, hb-view.exe, hb-shape.exe, and all dependencies.

The API is not expected to change incompatibly, but we cannot guarantee that until HarfBuzz 1.0.0 is released.  Other than that, we consider it very stable, and the API that comes with ''hb.h'' is unlikely to change.  API in ''hb-ft.h'' and other peripheral headers are more likely to through reviews before 1.0.

There are no tarball releases of the old HarfBuzz codebase available.  If you want to use the old HarfBuzz, just import it into your project.  And be warned that you are on your own.


=== Building ===

On Linux, install the development packages for FreeType, Cairo, and GLib.  For example, on Ubuntu / Debian, you would do:

  sudo apt-get install libfreetype6-dev libglib2.0-dev libcairo2-dev

whereas on Fedora, RHEL, CentOS, and other Red Hat based systems you would do:

  sudo yum install freetype-devel glib2-devel cairo-devel

If you are using a tarball, you can now proceed to running configure and make as with any other standard package.  That should leave you with a shared library in src/, and a few utility programs including hb-view and hb-shape under util/.

If you are bootstraping from git, you need a few more tools before you can run autogen.sh for the first time.  Namely, [[http://www.freedesktop.org/wiki/Software/pkg-config|pkg-config]] and ragel [[http://www.complang.org/ragel/|ragel]].  These all come with most standard distros, so look there before downloading them off the net.


=== Development ===

To get a better idea of where HarfBuzz stands in the text rendering stack you may want to read [[http://behdad.org/text/|State of Text Rendering]].

Both development and user support discussion around HarfBuzz happens on the [[http://freedesktop.org/mailman/listinfo/harfbuzz/|harfbuzz at lists freedesktop org]] mailing list.  Some of the developers frequent the #harfbuzz channel on freenode IRC server.  If you write to the mailing list, you are guaranteed to get an answer.  The same is not necessarily true about the IRC channel, or if you write to individual developers.  Feel free to write to the list to tell us how you are using HarfBuzz, or how well it has been suiting your project's needs.

To report bugs or submit patches, you can either use [[https://bugs.freedesktop.org/enter_bug.cgi?product=HarfBuzz|bugzilla]], or the mailing list.  Bugzilla is preferred, since we can track the issue until it has been fixed.

For a comparison of old vs new HarfBuzz memory consumption see [[http://goo.gl/woyty|this]].

See past and upcoming [[Software/HarfBuzz/Hackfests|HarfBuzz Hackfests]]

If your application uses ICU LayoutEngine library, there is a replacement library called ''icu-le-hb'' [[https://github.com/behdad/icu-le-hb|here]] that uses HarfBuzz to provide the ICU LayoutEngine API.  The C++ API is not ABI compatible, but the C API is.  This library has not been tested seriously.  If you use it, please report your experience to the mailing list.
